{% extends 'oefenen/layout.html' %}

{% block head %}
<script>
    $(document).ready( ()=> {
        var letter = $('#uitleg').attr('value');
        $('#backbutton').attr('href', `/oefenen/overzicht/${letter}`);

        // Variabelen voor de heen en weer knoppen tussen vaardigheden
        var vlijst = JSON.parse($('#uitleg').attr('name'));
        var linknum = parseInt($('#uitleg').attr('name1'));
        var previouslink = vlijst[vlijst.indexOf(linknum)-1]
        var nextlink = vlijst[vlijst.indexOf(linknum)+1]

        // Voeg beide knoppen toe met de juiste linkjes
        $('#background').append(`
            <div id="previous">
                <a href="/oefenen/uitleg/${letter}/${previouslink}">
                    <span id="previcon" class="material-icons">arrow_back_ios</span>
                </a>
            </div>
        `);
        $('#background').append(`
            <div id="next">
                <a href="/oefenen/uitleg/${letter}/${nextlink}">
                    <span id="nexticon" class="material-icons">arrow_forward_ios</span>
                </a>
            </div>
        `);

        // Als er geen vaardigheid voor of na is, verstop de knop
        if (previouslink === undefined) {
            $('#previous').hide();
        };
        if (nextlink === undefined) {
            $('#next').hide();
        };
    });
</script>
<style>
    #previous {
        position: fixed;
        top: 50%;
        left: 10%;
        z-index: 5;
    }
    #previcon {
        color: var(--secondarylighten);
        font-size: 120px;
        transition: all 0.1s ease-in-out;
    }
    #previcon:hover {
        font-size: 132px;
        transform: translate(-6px,-6px);
    }
    #next {
        position: fixed;
        top: 50%;
        right: 10%;
        z-index: 5;
    }
    #nexticon {
        color: var(--secondarylighten);
        font-size: 120px;
        transition: all 0.1s ease-in-out;
    }
    #nexticon:hover {
        font-size:132px;
        transform: translate(6px,-6px);
    }
    #uitleg {
        margin: 60px 20% 20px 20%;
    }
    .opgaveribbon {
        background-color: var(--primary);
        height: 48px;
        padding-left: 16px;
        font-family: inter;
        line-height: 48px;
        font-size: 28px;
        color: var(--whitetext);
        box-shadow: var(--box-shadow2dp);
    }
    .opgavetext {
        font-size: 20px;
        padding: 16px;
        color: rgb(0,0,0,0.8)
    }
    .theoriebackground {
        width: 100%;
        background-color: var(--dmbglighten);
        box-shadow: var(--box-shadow2dp);
    }
    #oefenknop {
        position: absolute;
        left: 50%;
        margin: 20px 0px 100px 0px;
        transform: translate(-50%, 0);
        padding: 4px 16px 4px 16px;
        height: 40px;
        max-width: 132px;
        background-color: var(--primarydarken);
        font-family: yantramanav;
        font-size: 28px;
        color: var(--whitetext);
        border-radius: 0px;
        text-decoration: none;
        box-shadow: var(--box-shadow2dp);
        transition: box-shadow 0.2s ease-in-out;
    }
    #oefenknop:hover {
        box-shadow: var(--box-shadow8dp);
    }

    #oefenknop::after {
        content: '';
        position: absolute;
        top: 100px;
        height: 20px;
        width: 100%;
    }

    #oefenknoptext {
        font-family: yantramanav;
        font-size: 28px;
        color: var(--whitetext);
        margin: 0px;
        float: right;
        line-height: 40px;
    }
</style>
{% endblock %}
{% block body %}

<!-- Render de uitleg op basis van de uitleg variabele van views.py -->
<div id="uitleg" value="{{ letter }}" name="{{ vaardigheid }}" name1="{{ pk }}">
    <div style="height: 100px;"></div>
    
    <div class="theoriebackground">
        <div class="opgaveribbon">Theorie</div>
        <div class="opgavetext">{{ uitleg.uitleg|safe }}</div>
    </div>
    
    <div class="theoriebackground">
        <div class="opgaveribbon">Voorbeeld</div>
        <div class="opgavetext">{{ uitleg.voorbeeld|safe }}</div>
    </div>
</div>
<a id="oefenknop" href="/oefenen/{{ letter }}/{{ pk }}"><p id="oefenknoptext">OEFEN!</p></a>

{% endblock %}

